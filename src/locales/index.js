export const TRANSLATIONS = {
  'en-US': {
    appTitle: 'Draftline',
    yourText: 'Your Text',
    sample: 'Sample',
    copy: 'Copy',
    fontFamily: 'Font Family',
    fontSize: 'Font Size',
    bold: 'Bold',
    italic: 'Italic',
    underline: 'Underline',
    textColor: 'Text Color',
    addLink: 'Add Link',
    alignLeft: 'Align Left',
    alignCenter: 'Align Center',
    alignRight: 'Align Right',
    lineSpacing: 'Line Spacing',
    bulletList: 'Bullet List',
    numberedList: 'Numbered List',
    decreaseIndent: 'Decrease Indent',
    increaseIndent: 'Increase Indent',
    addLinkTitle: 'Add Link',
    enterUrl: 'Enter URL',
    add: 'Add',
    cancel: 'Cancel',
    characters: 'characters',
    analyzeText: 'Analyze Text',
    analyzing: 'Analyzing...',
    suggestions: 'Suggestions',
    all: 'All',
    grammar: 'Grammar',
    spelling: 'Spelling',
    punctuation: 'Punctuation',
    style: 'Style',
    clarity: 'Clarity',
    clickAnalyzeText: "Click 'Analyze Text' to get suggestions",
    noSuggestionsCategory: 'No suggestions in this category',
    applySuggestion: 'Apply suggestion',
    dismiss: 'Dismiss',
    textHighlightColor: 'Text highlight color',
    applyAllSuggestions: 'Apply All Suggestions',
    pleaseEnterText: 'Please enter some text to analyze',
    failedToAnalyze: 'Failed to analyze text. Please try again.',
    failedToParse: 'Failed to parse suggestions. Please try again.',
    reject: 'Reject',
    accept: 'Accept',
    model: 'Model',
    selectModel: 'Select Model',
    speed: 'Speed',
    quality: 'Quality',
    price: 'Price',
    free: 'Free',
    sampleTexts: 'Sample Texts',
    loadSample: 'Load Sample',
    providerKeyMissing: 'API key not configured for this provider',
    appTitleShort: 'Draftline',
  },
  'ja-JP': {
    appTitle: 'Draftline',
    yourText: 'テキスト入力',
    sample: 'サンプル',
    copy: 'コピー',
    fontFamily: 'フォント',
    fontSize: '文字サイズ',
    bold: '太字',
    italic: '斜体',
    underline: '下線',
    textColor: '文字色',
    addLink: 'リンク追加',
    alignLeft: '左揃え',
    alignCenter: '中央揃え',
    alignRight: '右揃え',
    lineSpacing: '行間',
    bulletList: '箇条書き',
    numberedList: '番号付きリスト',
    decreaseIndent: 'インデント減',
    increaseIndent: 'インデント増',
    addLinkTitle: 'リンクを追加',
    enterUrl: 'URLを入力',
    add: '追加',
    cancel: 'キャンセル',
    characters: '文字',
    analyzeText: 'テキストを分析',
    analyzing: '分析中...',
    suggestions: '改善提案',
    all: 'すべて',
    grammar: '文法',
    spelling: 'スペル',
    punctuation: '句読点',
    style: '文体',
    clarity: '明瞭さ',
    clickAnalyzeText: '「テキストを分析」をクリックして改善提案を取得',
    noSuggestionsCategory: 'このカテゴリの提案はありません',
    applySuggestion: '提案を適用',
    dismiss: '却下',
    textHighlightColor: 'ハイライト色',
    applyAllSuggestions: 'すべての提案を適用',
    pleaseEnterText: '分析するテキストを入力してください',
    failedToAnalyze: 'テキストの分析に失敗しました。もう一度お試しください。',
    failedToParse: '提案の解析に失敗しました。もう一度お試しください。',
    reject: '拒否',
    accept: '承認',
    model: 'モデル',
    selectModel: 'モデル選択',
    speed: '速度',
    quality: '品質',
    price: '価格',
    free: '無料',
    sampleTexts: 'サンプルテキスト',
    loadSample: 'サンプルを読み込む',
    providerKeyMissing: 'このプロバイダーのAPIキーが設定されていません',
    appTitleShort: 'Draftline',
  },
};

const browserLocale = navigator.languages?.[0] || navigator.language || 'en-US';

const findMatchingLocale = (locale) => {
  if (TRANSLATIONS[locale]) return locale;
  const lang = locale.split('-')[0];
  const match = Object.keys(TRANSLATIONS).find((key) => key.startsWith(lang + '-'));
  return match || 'en-US';
};

export const locale = findMatchingLocale(browserLocale);
export const t = (key) => TRANSLATIONS[locale]?.[key] || TRANSLATIONS['en-US'][key] || key;
